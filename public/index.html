<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Display Pictures</title>
  </head>
  <body>
    <h2>Hello NodeJs World</h2>
    <form action="/api" method="post" enctype="application/x-www-form-urlencoded">
        <label for="title">title</label>
        <input type="text" name="title" id="title"/>
        <label for="description">description</label>
        <input type="text" name="description" id="description"/>
        <label for="src">src</label>
        <input type="text" name="src" id="src"/>
        <label for="author">author</label>
        <input type="text" name="author" id="author"/>
        <input type="submit" value="Submit" />
    </form>
    <h2>Display Pictures</h2>
    <ul id="picturesList"></ul>

    <script>
      async function showPictures() {
        const response = await fetch("api?page=1&limit=3");
        const pictures = await response.json();
        console.log(pictures);
        const picturesList = document.getElementById("picturesList");
        pictures.forEach((picture) => {
          const listItem = document.createElement("li");
          const title = document.createElement("span");
          title.textContent = `Title: ${picture.title}`;
          listItem.appendChild(title);
          const description = document.createElement("span");
          description.textContent = `Description: ${picture.description}`;
          listItem.appendChild(description);
          picturesList.appendChild(listItem);
        });
      }

      showPictures();
    </script>
  </body>
</html>
